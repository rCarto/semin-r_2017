<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Cartographie avec R</title>
<!-- Material Design fonts -->
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<script src="cartography_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="cartography_files/bootstrap-3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<script src="cartography_files/bootstrap-3.3.6/js/bootstrap.min.js"></script>
<script src="cartography_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<script src="cartography_files/navigation-1.1/tabsets.js"></script>
<script src="cartography_files/navigation-1.1/codefolding.js"></script>
<link href="cartography_files/magnific-popup-1.1.0/magnific-popup.css" rel="stylesheet" />
<script src="cartography_files/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script>
<link href="cartography_files/bootstrap_material-0.1/bootstrap-material-design.min.css" rel="stylesheet" />
<link href="cartography_files/bootstrap_material-0.1/ripples.min.css" rel="stylesheet" />
<script src="cartography_files/bootstrap_material-0.1/material.min.js"></script>
<script src="cartography_files/bootstrap_material-0.1/ripples.min.js"></script>
<link href="cartography_files/material-0.1/material.css" rel="stylesheet" />
<script src="cartography_files/material-0.1/material.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #dddddd; }
td.sourceCode { padding-left: 5px; }
code > span.kw { font-weight: bold; } /* Keyword */
code > span.dt { color: #800000; } /* DataType */
code > span.dv { color: #0000ff; } /* DecVal */
code > span.bn { color: #0000ff; } /* BaseN */
code > span.fl { color: #800080; } /* Float */
code > span.ch { color: #ff00ff; } /* Char */
code > span.st { color: #dd0000; } /* String */
code > span.co { color: #808080; font-style: italic; } /* Comment */
code > span.al { color: #00ff00; font-weight: bold; } /* Alert */
code > span.fu { color: #000080; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #ff0000; font-weight: bold; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #ff00ff; } /* SpecialChar */
code > span.vs { color: #dd0000; } /* VerbatimString */
code > span.ss { color: #dd0000; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { font-weight: bold; } /* Preprocessor */
code > span.at { } /* Attribute */
code > span.do { color: #808080; font-style: italic; } /* Documentation */
code > span.an { color: #808080; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #808080; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #808080; font-weight: bold; font-style: italic; } /* Information */
</style>


<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

</head>

<body>

<div class="header-panel shadow z-2">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-3">
        <div id="header">
    <h1 class="title"><p>Cartographie avec R</p></h1>
                </div>
    </div>
</div>
</div>
</div>


<div class="container-fluid main-container">
    <div class="row">
      <nav class="col-xs-3 menu" id="toc">
        <ul>
        <li><a href="#section"></a></li>
        <li><a href="#les-fonctionnalites-spatiales-de-r"> Les fonctionnalités spatiales de R</a></li>
        <li><a href="#le-package-cartography">Le package cartography</a></li>
        <li><a href="#ressources">Ressources</a></li>
        </ul>
      </nav>
     <div class="pages col-xs-9">
     <div class="row">
       <div class="col-xs-10">



<div id="section" class="section level1">
<h1></h1>
<div id="cartographie-avec-r-le-package-cartography" class="section level2">
<h2>Cartographie avec R, le package <code>cartography</code></h2>
<div class="figure">
<img src="img/cartomix.png" />

</div>
<p><strong><a href="http://rug.mnhn.fr/semin-r/">SEMIN-R</a></strong><br />
Museum National d’Histoire Naturelle | <em>Vendredi 16 juin 2017</em></p>
<p>Timothée Giraud<br />
<a href="http://riate.cnrs.fr">UMS RIATE</a><br />
<a href="http://rgeomatic.hypotheses.org/" class="uri">http://rgeomatic.hypotheses.org/</a></p>
</div>
</div>
<div id="les-fonctionnalites-spatiales-de-r" class="section level1">
<h1> Les fonctionnalités spatiales de R</h1>
<div id="les-indispensables" class="section level2 tabset tabset-fade tabset-pills">
<h2>Les indispensables</h2>
<p>3 packages sont incontournables</p>
<div id="rgdal" class="section level3">
<h3>rgdal</h3>
<p><strong>Import/export d’objets spatiaux et gestion des projections cartographiques</strong></p>
<p><code>rgdal</code> est une interface entre R et les librairies GDAL (<a href="http://www.gdal.org/">Geospatial Data Abstraction Library</a>) et <a href="https://github.com/OSGeo/proj.4">PROJ4</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;rgdal&quot;</span>)
nuts3 &lt;-<span class="st"> </span><span class="kw">readOGR</span>(<span class="dt">dsn =</span> <span class="st">&quot;data&quot;</span>, <span class="dt">layer =</span> <span class="st">&quot;nuts3&quot;</span>, <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>OGR data source with driver: ESRI Shapefile 
Source: &quot;data&quot;, layer: &quot;nuts3&quot;
with 1448 features
It has 7 fields</code></pre>
</div>
<div id="sp" class="section level3">
<h3>sp</h3>
<p><strong>Manipulation et affichage d’objets spatiaux</strong></p>
<p><code>sp</code> fournit des classes et des methodes pour les données spatiales dans R.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;sp&quot;</span>)
<span class="kw">head</span>(nuts3@data)</code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th></th>
<th align="left">id</th>
<th align="right">birth_2008</th>
<th align="right">death_2008</th>
<th align="right">gdppps1999</th>
<th align="right">gdppps2008</th>
<th align="right">pop1999</th>
<th align="right">pop2008</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td align="left">AT111</td>
<td align="right">272</td>
<td align="right">445</td>
<td align="right">509</td>
<td align="right">641</td>
<td align="right">39148.91</td>
<td align="right">37452</td>
</tr>
<tr class="even">
<td>1</td>
<td align="left">AT112</td>
<td align="right">1195</td>
<td align="right">1480</td>
<td align="right">2262</td>
<td align="right">3272</td>
<td align="right">137469.46</td>
<td align="right">146383</td>
</tr>
<tr class="odd">
<td>2</td>
<td align="left">AT113</td>
<td align="right">748</td>
<td align="right">1142</td>
<td align="right">1368</td>
<td align="right">1783</td>
<td align="right">100113.63</td>
<td align="right">97350</td>
</tr>
<tr class="even">
<td>3</td>
<td align="left">AT121</td>
<td align="right">2480</td>
<td align="right">2119</td>
<td align="right">4091</td>
<td align="right">5807</td>
<td align="right">238591.26</td>
<td align="right">241083</td>
</tr>
<tr class="odd">
<td>4</td>
<td align="left">AT122</td>
<td align="right">2266</td>
<td align="right">2577</td>
<td align="right">4130</td>
<td align="right">5774</td>
<td align="right">244959.00</td>
<td align="right">251838</td>
</tr>
<tr class="even">
<td>5</td>
<td align="left">AT123</td>
<td align="right">1363</td>
<td align="right">1392</td>
<td align="right">3098</td>
<td align="right">4504</td>
<td align="right">144269.11</td>
<td align="right">147468</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(nuts3)</code></pre></div>
<p><img src="cartography_files/figure-html/InspectSPDF-1.png" width="576" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(nuts3, <span class="dt">col =</span> <span class="st">&quot;#DAE3E6&quot;</span>, <span class="dt">border =</span> <span class="st">&quot;#8A0641&quot;</span>, <span class="dt">lwd =</span> <span class="fl">0.5</span>)</code></pre></div>
<p><img src="cartography_files/figure-html/InspectSPDF-2.png" width="576" /></p>
</div>
<div id="rgeos" class="section level3">
<h3>rgeos</h3>
<p><strong>Géotraitements</strong></p>
<p><code>rgeos</code> donne accès à la librairie d’opérations spatiales GEOS (<a href="http://trac.osgeo.org/geos/">Geometry Engine - Open Source</a>) qui permet notamment d’effectuer les géotraitements suivants :</p>
<ul>
<li>Area / Perimeter</li>
<li>Distances<br />
</li>
<li><strong>Dissolve</strong></li>
<li><strong>Buffer</strong></li>
<li>Overlap / intersect / difference</li>
<li>Contains / within</li>
<li>Union</li>
<li>…</li>
</ul>
<div id="agregation-des-polygones-dissolve" class="section level4">
<h4>Agrégation des polygones / dissolve</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;rgeos&quot;</span>)
europe &lt;-<span class="st"> </span><span class="kw">gUnaryUnion</span>(<span class="dt">spgeom =</span> nuts3)
<span class="kw">plot</span>(nuts3, <span class="dt">lwd =</span> <span class="fl">0.5</span>)
<span class="kw">plot</span>(europe, <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">border =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">add=</span>T)</code></pre></div>
<p><img src="cartography_files/figure-html/dissolve-1.png" width="576" /></p>
</div>
<div id="creation-de-zones-tampons-buffer" class="section level4">
<h4>Création de zones tampons / buffer</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;rgeos&quot;</span>)
europeBuffer &lt;-<span class="st"> </span><span class="kw">gBuffer</span>(<span class="dt">spgeom =</span> europe, <span class="dt">width =</span> <span class="dv">50000</span>)
<span class="kw">plot</span>(europe, <span class="dt">col =</span> <span class="st">&quot;#92C5D6&quot;</span>)
<span class="kw">plot</span>(europeBuffer, <span class="dt">add =</span> T, <span class="dt">border =</span> <span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><img src="cartography_files/figure-html/buff%20er-1.png" width="576" /></p>
</div>
</div>
</div>
<div id="le-futur-le-package-sf" class="section level2">
<h2>Le futur : le package sf</h2>
</div>
</div>
<div id="le-package-cartography" class="section level1">
<h1>Le package cartography</h1>
<div id="installation" class="section level2">
<h2>Installation</h2>
<ul>
<li><p>Version stable</p></li>
<li><p>Version de développement</p></li>
<li><p>Version avec sf</p></li>
</ul>
</div>
<div id="les-donnees" class="section level2">
<h2>Les données</h2>
</div>
<div id="demonstration" class="section level2">
<h2> Démonstration</h2>
</div>
</div>
<div id="ressources" class="section level1 tabset tabset-fade tabset-pills">
<h1>Ressources</h1>
<p>Cette présentation est disponible ici</p>
<div id="package-cartography" class="section level2">
<h2><em>Package</em> <code>cartography</code></h2>
<p><strong>La page GitHub du <em>package</em> <code>cartography</code></strong></p>
<p>C’est dans <a href="https://github.com/Groupe-ElementR/cartography">ce dépôt GitHub</a> que se déroule le développement du <em>package</em> et que se tiennent les <a href="https://github.com/Groupe-ElementR/cartography/issues">discussions</a> à son sujet.</p>
<p><strong>Billets de blogs, tutoriels, présentations</strong></p>
<p><a href="http://www.r-graph-gallery.com/portfolio/maps/">Demo codes in the R graph Gallery</a> (EN)<br />
<a href="http://rgeomatic.hypotheses.org/842">Create and integrate maps in your R workflow with the cartography package</a> (EN)<br />
<a href="http://rgeomatic.hypotheses.org/1086">De superbes cartes thématiques…</a>(FR)<br />
<a href="http://rgeomatic.hypotheses.org/1016">Le package cartography a un an</a>(FR)<br />
<a href="http://rgeomatic.hypotheses.org/659">Cartographie avec R : le package cartography</a> (FR)<br />
<a href="http://neocarto.hypotheses.org/1859">R pour les cartographes</a> (FR)<br />
<a href="http://rgeomatic.hypotheses.org/category/cartography">Comment faire un carton avec R?</a> (FR - <em>How to build inset maps</em>)<br />
<a href="http://wukan.ums-riate.fr/r2016/">Tutoriel - Cartographie avec R</a> (FR)<br />
<a href="http://wukan.ums-riate.fr/RUSS/RUSS_2016/">Cartographie et traitement de l’information géographique avec R</a> (FR)<br />
<a href="https://osgeo-fr.github.io/presentations_foss4gfr/2016/J1/R_Cartography_T_Giraud_FOSS4G-fr-2016/FOSS4G-fr-2016.html">R pour les cartographes : le package cartography</a> (FR)</p>
<p>Le blog <a href="http://rgeomatic.hypotheses.org/" class="uri">http://rgeomatic.hypotheses.org/</a></p>
</div>
<div id="package-sf" class="section level2">
<h2><em>Package</em> <code>sf</code></h2>
<p><strong>La page GitHub du <em>package</em> <code>sf</code></strong></p>
<p>C’est dans <a href="https://github.com/edzer/sfr">ce dépôt GitHub</a> que se déroule le développement du <em>package</em> et que se tiennent les <a href="https://github.com/edzer/sfr/issues?utf8=%E2%9C%93&amp;q=is%3Aissue%20">discussions</a> à son sujet.</p>
<p><strong>Les ressources publiées par Edzer Pebesma</strong></p>
<p>Le créateur et <em>maintainer</em> de <code>sf</code> a publié un certain de nombre de vignettes et de billets autour du package.</p>
<ul>
<li><p>Vignettes</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/sf/vignettes/sf1.html">Simple Features for R</a> Explication très détaillée des principes et du fonctionnement du package.</li>
<li><a href="https://cran.r-project.org/web/packages/sf/vignettes/sf2.html">Reading, Writing and Converting Simple Features</a> Comment importer et exporter des objets.</li>
<li><a href="https://cran.r-project.org/web/packages/sf/vignettes/sf3.html">Manipulating Simple Feature Geometries</a> Comment manipuler les objets <code>sf</code>, géotraitements, projections…</li>
</ul></li>
<li><p>Billets de blog</p>
<ul>
<li><a href="http://r-spatial.org/r/2016/02/15/simple-features-for-r.html">Simple features for R</a></li>
<li><a href="http://r-spatial.org/r/2016/07/18/sf2.html">Simple features for R, part 2</a></li>
<li><a href="http://r-spatial.org/r/2016/11/02/sfcran.html">Simple features now on CRAN</a></li>
<li><a href="http://r-spatial.org/r/2017/01/12/newssf.html">sf - plot, graticule, transform, units, cast, is</a></li>
</ul></li>
<li><p>Migration de <code>sp</code> ver <code>sf</code></p>
<p><a href="https://github.com/edzer/sfr/wiki/migrating">Un tableau de migration de <code>sp</code> vers <code>sf</code></a> pour passer de l’utilisation des packages <code>sp</code>, <code>rgeos</code> et <code>rgdal</code> à l’utilisation de <code>sf</code>.</p></li>
</ul>
<p><strong>Billets de blogs / tutoriels</strong></p>
<ul>
<li><p><a href="https://github.com/riatelab/intro_sf">Faire des cartes avec R - Introduction au package sf</a> - Santiago Mora</p></li>
<li><p><a href="http://strimas.com/r/tidy-sf/">Tidy spatial data in R: using dplyr, tidyr, and ggplot2 with sf</a> - Matt Strimas-Mackey</p></li>
<li><p><a href="https://geographicdatascience.com/2017/01/06/first-impressions-from-sf-the-simple-features-r-package/">First Impressions From sf – The Simple Features R Package</a> - Geographic Data Science Lab</p></li>
<li><p><a href="https://walkerke.github.io/2016/12/spatial-pipelines/">Spatial analysis pipelines with simple features in R</a> - Kyle Walker</p></li>
<li><p><a href="http://rhodyrstats.org/geospatial_with_sf/geospatial_with_sf.html">Spatial analysis in R with the sf package</a> - rhodyRstats</p></li>
<li><p><a href="http://jwhollister.com/r_landscape_tutorial/tutorial.html">Landscape Ecology with R:A tutorial with raster and sf</a> - Jeffrey W. Hollister</p></li>
<li><p><a href="http://sharpsightlabs.com/blog/mapping-france-night/">Mapping “France at night” with the new sf package</a> - Sharp Sight Labs</p></li>
</ul>
</div>
<div id="la-cartographie" class="section level2">
<h2>La cartographie</h2>
<div class="figure">
<img src="img/bp.jpg" alt="Béguin &amp; Pumain (2003)" />
<p class="caption">Béguin &amp; Pumain (2003)</p>
</div>
<ul>
<li>Michelle Béguin et Denise Pumain. “La représentation des données géographiques, Statistique et cartographie.” (2003). Paris, Armand Colin, Coll. Cursus, 192p.</li>
</ul>
<p>!<img src="img/lz.jpeg" alt="Lambert &amp; Zanin" /></p>
<ul>
<li>Nicolas Lambert et Christine Zanin. “Manuel de cartographie: principes, méthodes, applications.” (2016). Paris, Armand Colin, Coll. Cursus, 224p.</li>
</ul>
</div>
</div>

    </div>
    <div class="col-xs-2">
        <div class="btn-toolbar">
    <div class="btn-group">
    <a href="#" class="btn btn-raised btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="text-muted">Code</span> <span class="text-muted caret"></span></a>
    <ul class="dropdown-menu" style="min-width: 50px;">
    <li><a id="rmd-show-all-code" href="#">Show All</a></li>
    <li><a id="rmd-hide-all-code" href="#">Hide All</a></li>
    </ul>
    </div>
    </div>
        </div>
  </div>
  </div>
  </div>
  <div class="row">
    </div>
  </div>

<script>
$(document).ready(function () {
  // add bootstrap table styles to pandoc tables
  $('tr.header').parent('thead').parent('table').addClass('table table-striped table-hover');

  
    $('.pages img')
 	  .addClass("image-lb");
  $('.pages').magnificPopup({
	      type:'image',
	      closeOnContentClick: false,
	      delegate: 'img',
	      gallery: {enabled: false },
          removalDelay: 500,
          callbacks: {
              beforeOpen: function() {
                // just a hack that adds mfp-anim class to markup
                this.st.image.markup = this.st.image.markup.replace('mfp-figure', 'mfp-figure mfp-with-anim');
              }
          },
          mainClass: 'mfp-move-from-top',
	      image: {
	        verticalFit: true,
            titleSrc: 'alt'
	      }
 	    });
 	
    window.page = window.location.hash;
    if (window.page != "") {
      $(".menu").find("li[data-target=" + window.page + "]").trigger("click");
    }

    /* init material bootstrap js */
    $.material.init();
});
</script>




<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
